ch
FW：Openstack幕后的公司
 原文链接： 每年的7月份，都是Openstack的生日，到现在刚好3岁，有一点比较重合的是，也刚好是3年前的7月份，我进入了某家IDC，做云计算的产品经理。我也基本是那个时候，看到Openstack项目成立的新闻，也一直在关注，所以就整理一下Openstack幕后的公司，大家也可以通过这个了解一下Openstack的发展。下面的内容，基本是靠记忆完成，如果不准确，请指出。 Openstack的 各家公司的代码贡献排行榜： 这是截止到今天2013年7月10，在H版本各个公司的代码贡献排名。有些公司只是把自己的产品加入到Openstack上，例如Mellanox, Midokura, NetApp, SolidFire，华为，目前存储厂商和网络厂商，都非常积极的把自己的产品的driver，加入到Cinder和Neutron （quantum）中。 为啥选择OpenStack，这是大家经常问的问题。那么看看在Openstack项目背后的支持的公司，或者你就会有答案。 Contents [] NOVA Rackspace Dell HP IBM Redhat Canonical (Ubuntu) Novel （Suse） Nebula Pison Dreamhost Intel Mirantis Cisco eNovance Nicira SwiftStack Grid Dynamics Stackops PuppetLab Inktank Cloudscaling Citrix cloudbase UnitedStack NOVA 美国宇航局，这个故事有点八卦，我是从一个slideshare看到的，不过后来就找不到。大概的意思是：美国宇航局使用的Eucalyptus开源的版本，当时他们给社区提交了patch，增强Eucalyptus的开源版本，不过估计是功能和商业版本有重叠，就拒绝了他们提交的patch。当时美国宇航局的6个phton人员，用1个星期的时间，使用Python，做了一个原型，并尝试把运行的虚拟机迁移到上面，非常顺利就跑起来。这就是nova项目的起源。 对于美国宇航局来说，维护一套IAAS项目，也是很麻烦的事情，所以就想到的开源。刚好负责nova项目的人员，和Rackspace的人员私交都比较好，所以在2010年4月份就开始策划Openstack的项目。 后面的故事大家都知道，美国宇航局把代码叫出来后，也就基本不管。负责nova项目的人，全部跳槽出来成立公司。美国宇航局内部的nova系统，内部无法维护，只能采用外包的方式。如果这种事情发生在中国，估计就是严重的国有资产流失。 美国宇航局内部应该是有多套IAAS，包括使用AWS，所以各个厂商都号称美国宇航局是他们的客户，所以大家也不要太认真。 Rackspace Rackspace，是一家很传统的IDC厂商，其实和国内的IDC基本是一样的，这其实为啥国内的IDC，都以Rackspace为榜样的原因。公司对系统维护比较强悍，对技术研发是比较弱的。Rackspace的cloud Server是靠收购Slicehost获得的Xen的技术。当年SliceHost是和linode齐名一家vps厂商。云存储技术，他是收购自己前员工成立的已经公司，获得的技术。 Rackspace应该是在2008年左右，推出所谓的云主机，云存储服务，实现按需收费。不过他的用户量，收入和亚马逊AWS比起来，基本不构成威胁。不过在2010年的时候，按需付费的这种模式，Rackspace是排在第二名，我猜测他的实际收入，也就大概AWS的5%都不到。 当老二发现无法战胜老大的时候，老二就把老大的东西开源出来。我想这是国外的挑战巨人的黄金法则。 Rackspace没有成立Openstack项目的时候，估计大概是在10美金左右，成立后，估计飙升到40多美金，所以对于股东来说，不在于你搞啥开源，关键是股价上涨。 Rackspace只是把云存储开源出来，也就是目前是swift。swift的开发理论应该还是根据google的那3篇论文搞出来的对象存储产品。swift最大的优势在于他是在生产环境中验证过的产品，当时应该是支撑超过10个PB的数据量，目前也就继续跑着。 对我来说，也是通过swift，搞明白对象存储的大概原理，知道原来云存储的服务器，是不需要设置raid，通过软件来实现保证数据的可靠性，这样可以大大降低成本。当时Rackspace公开他们内部使用的服务器，就是4u，24块2T的家用硬盘。这些今天看起来都是标配，不过在2010年，我至少是第一次看到。 整个2011年基本都是Rackspace在推动Openstack，发展到一定阶段，大家就有了质疑的声音，大家不放心Rackspace对Openstack项目的控制，也就导致缺乏重量级的企业参与，尤其是Redhat和IBM。所以在2011年的时候，Rackspace就提出成立专门的基金会，管理Openstack项目。 2012年8月，Openstack基金会正式成立，这个时候，Redhat和IBM正式加入，同时也标志Rackspace无法控制Openstack，只能是影响Openstack。当时有一个小插曲，Rackspace要搞一个培训，发一个Openstack证书，当时就招到成员的置疑，Rackspace无权发放Openstack的证书，这是侵犯Openstack的版权，所以Rackapce也只能把证书改名为Rackspace啥云证书。 Rackspace在Openstack付出很大，当初的代码贡献占据50%以上。并且做了一个承诺，把以前的云计算平台，切换到Openstack上。目前Rackspace的第二代云计算平台，已经是基于Openstack，底层使用的是Xen Server。 Rackspace是希望用Openstack进入企业私有云市场，推出了alamo的一个产品，自动化部署Openstack。不过在企业私有云市场上，Rackspace的收获是不大，这也让Rackspace比较郁闷的地方。 必须承认一点，Rackspace到目前为止是贡献最大的，但不是Openstack的最大赢家，不过老外是可以接受这个事实，这也是你玩这种项目需要的胸怀。 Dell Dell是最早介入Openstack项目的公司，据说2010年4月份项目筹划的时候，Dell就参与了。这也是和Rackspace和Dell公司间密切关系有关，据说在美国，他们两家公司联合打下了不少大单子。 Dell最开始的设想就是要搞一个Crowbar的项目，让Openstack可以很方便部署在Dell的服务器上。甚至还策划搞一个Crowbar的商业收费版本。个人观点，从项目开始的时候，可能方向就有问题。这样的开源项目，你就只能自己玩，很难形成社区。对于Dell这种硬件公司，应该是比较缺乏软件的基因，更缺乏开源的基因，是很难推动一个开源的项目。 Dell的Crowbar的项目，投入其实不少，不过基本是没带动他的硬件销售，而且项目发展也遇到问题。在Openstack的代码上，Dell基本是没啥贡献，只是掏钱赞助活动。 Dell是黄金成员，每年20万美金的年费，承诺是3年。 HP HP是在2011年10月份发布Diablo版本，宣布推出HPcloud公有云，这对Openstack来说是一个极大的支持。当时的Openstack还没有今天那么成熟的时候，HP选择使用openstack推出公有云服务，是非常激进。HPcloud先进行的半年的beta阶段，没记错，应该就是2012年5月份左右，开始正式收费。 公有云要实现盈利，其实是很困难的事情，尤其是HP的成本。 在Essex版本的统计，HP投入了超过20位的开发者参与项目，至少在Horizon项目里的2位core，是来自HP。在最新的H版本里，HP的代码贡献应该是前五名。 很多人经常会问一个问题：HP和Rackspace，到底使用的是Openstack那个版本？这个问题我也问过。答案就是不断迭代，定期把上游的代码check out出来，合并到生产环境下，而不是半年升级一个版本，这样更加容易控制。这个在开发峰会上有专门的专题介绍这个。 HP其实应该还是希望可以进入私有云的市场，好像要推出一个cloudos，不过还没看到产品，传说是基于ubuntu定制。 HP是白金成员，每年50万美金，承诺3年。 IBM 2012年8月，Openstack基金会成立，IBM正式加入，其实对Openstack来说，应该是非常重量级别的，影响了很多公司的决策。这个对Openstack未来发展，意义是非常重大的。 IBM把自己多年玩的虚拟化产品扔掉，smartcloud也不要的，全部采用Openstack，这种决策，真的需要很果断啊。这其实也让内部的开发人员很痛苦，需要把以前的产品迁移到Openstack上。不管怎么说，IBM已经是在战略上全部迁移到Openstack上，包括收购的公司，都是围绕Openstack。还有自己的硬件产品，都进行调整，支持Openstack，包括存储，服务器，甚至交换机。 IBM的power下跑Openstack，还是有大量的工作需要去做。目前只能说是beta阶段，老大当初在这种情况下做出这样的决策，还是需要很大的勇气，不过估计老大是不需要考虑技术的，只需要从市场角度考虑就可以。 Redhat 2012年8月，Redhat和IBM一起加入了Openstack基金会。我个人相信，Redhat的加入，其实也是受IBM的影响，因为IBM的power下跑Openstack，都是跑在Redhat下。IBM没有redhat是玩不转Openstack的。 Openstack的nova的核心：libvirt，KVM，qemu，都是redhat开源和控制的项目，所以Redhat的加入，对于Openstack的来说，意义是非常重大的。 Redhat有自己的虚拟化平台RHEV，加入Openstack，其实很大程度就意味放弃RHEV，目前已经有这样的征兆，现在到了RHEL 7.0，估计就看不到RHEV。 在Redhat没有正式宣布加入Openstack前，在Essex版本的时候，redhat就有全职的开发人员参与nova的开发，并且很快的获得core的位置。谁来控制一个开源项目，不是靠money，而是靠代码贡献。你代码贡献多了，你的影响力就大。目前在H版本里的代码贡献，redhat是遥遥领先，基本是取代了Rackspace以前的位置。 目前Openstack的9个项目里，每个项目的core成员都有redhat的员工，每个项目的发布周期的项目技术老大选举，Redhat的人都参加竞选，可以看到redhat的投入是多么大和开源应该如何玩。目前Heat，olso这两个项目的技术负责人是redhat公司的。 Redhat为了推动Openstack，推出了RDO的项目，不惜直接支持CentOS，可见决心有多么大。 Redhat是白金成员 Canonical (Ubuntu) Canonical在Ubuntu10.04的时候，选择了桉树作为IAAS的平台，并且投入了大量精力。马上就发现这个方向有问题，在Ubuntu 11.04的时候，就开始讨论是否要放弃桉树，选择Openstack。在ubuntu 11.10的情况下，官方源里加入了Openstack的Diablo版本，不过Ubuntu只负责打包，啥都不做，那个版本的Diablo的Dashboard是无法使用，Ubuntu也不做任何的修复，都是靠民间去解决各种bug问题。 Ubuntu 12.04，正式宣布支持Essex，我个人观点，Essex，算是第一个可以使用的Openstack版本，国内很多企业，目前都是基于这个版本进行定制开发，当时也就只能跑在Ubuntu下。因为Openstack，大大提高了Ubuntu在服务器端的装机数量。 Openstack使用大量的新的技术，新的软件，Ubuntu的发行版的优势在于各种软件版本比较新，开发者可以比较方便进行开发和测试。这其实也是早期为啥大家全部都在Ubuntu下进行测试。目前这种局面，还很难改变。 和linux内核一样，Ubuntu在Openstack上的代码贡献是很少。Ubuntu针对Openstack推出自己的MAAS和juju的部署工具，不过我从邮件列表里看，基本是比较冷清，就ubuntu自己和自己玩。Ubuntu玩linux桌面，老大直接参与，投入巨大。在server上，很多玩法是行不通的，MAAS和JUJU的下场，也是不容乐观。 Canonical也是Openstack的白金成员。不过目前在Openstack的私有云市场上，基本也是没啥收获，没获得用户和收入。如果后续不加大投入，很快就会给redhat超过。目前看到的情况是在H版本，Ubuntu投入的开发人员在增加代码贡献，至少是在前10名。 Novel （Suse） 作为linux的3大发行版，Suse在openstack上动作是比较慢的。2012年8月份左右，推出suse cloud 1.0，基于Essex版本，目前正在推出Suse cloud2.0，基于Grizzly版本。 Suse目前希望把Ceph整合到他的Openstack解决方案中，正在投入大力气推广他们的cloud2.0产品。目前国内已经有专人负责。如果你希望Openstack使用xen，那么suse基本是唯一可以提供support的发行版。 Suse其实也是有自己的虚拟化平台PlateSpin Orchestrate，这应该是Suse企业版里默认的虚拟化平台，目前这个平台支持Xen和KVM，这套东西据说销售在国外还是非常不错，在PlateSpin Orchestrate平台上novel投入也是非常巨大。所以novel放弃PlateSpin Orchestrate，还是比较艰难的选择。 Novel在Openstack的代码贡献量不大,大概是和Ubuntu差不多。另外他的部署工具，居然是采用Dell搞的Crowbar，比较有意思。Novel也是白金成员。 Nebula 这家公司应该是最先用Openstack拿到投资的公司，融资金额也很大，2500万美金。他提出把Openstack和Facebook的Open Compute项目整合在一起。在Openstack初创阶段，很多开发人员都是来自Nebula. Openstack的Dashboard项目Horizon，开始就是有Nebula投入人手去开发。目前如果你统计openstack全部代码贡献，Nebula是排在第一的。他们的CEO，长的比较帅，也很幽默。 Nebula的商业模式我的理解是销售机柜，整柜子的服务器销售，他们开发好一套管理平台。不过最近的版本，Nebula的代码贡献已经很少，经营上估计也是遇到很大问题。不过2500万美金，应该不会那么快花完啊。 Pison 这是第二家拿到投资的Openstack公司，创始人我印象好像是Rackspace出来的，从Slicehost的创建的。融资800万美金。目前看介绍，正在做虚拟化桌面。 不过这家公司，目前业界的声音很小，基本听不到。很可能会死掉。他是Openstack黄金成员，当年也是给Openstack贡献了很多代码的公司。 Dreamhost 这是国外算是最大的一家虚拟主机厂商，介入Openstack比较早，国外的虚拟主机厂商的创始人，技术背景都很强悍，印象中Ceph，就是他们老大发起的项目，并推动。 Dreamhost加入Openstack，推动Ceph在Openstack的使用。并且在Dreamhost部署了Ceph的对象存储，容量达到3PB，规模不小。 未来Ceph，可能是Openstack的一个重点，实现企业内部的统一存储。Ceph上游开发社区也非常活跃。目前Suse选择Ceph作为默认存储。 Intel Openstack一个受益者，应该就是Intel，有助于他的cpu销售。Intel介入Openstack比较早，不过方向开始阶段有失误，在Diablo版本的时候，自己搞了一个版本，结果出现很多问题，基本是一个摆设，导致后续无法升级和维护。 Intel不是第一批的Openstack基金会成员，而是第二批申请加入，不过加入基金会后，Intel的投入也正在加大，已经没有自己的版本，全部的代码都是merge到上游，内部的所有系统全部切换到Openstack上。目前Intel在中国区已经有了4位core，对Ceilometer，cinder投入都不小，估计都指望万兆网卡快点普及起来。 Mirantis 这家公司估计是目前为止Openstack的最大赢家，获得1000万美金的投资，并且目前Openstack的最大用户，都是他的客户，思科Webex，ebay等。 这家公司有点类似国内的360，当很多公司指望培训收入，Mirantis直接把他的培训资料公开。当公司指望提供高级功能收费，Mirantis直接把puppet的脚本开源，包括HA的实现和自动化部署，还提供一个很好的web管理，把以前收费客户使用的，都开源给大家直接使用。 我一直思考这个问题，为啥Miriantis是最大赢家，而不是ubuntu,Rackspace,Stackops, Dell? Cisco 思科和Dell都是很早介入Openstack，并且在Diablo就提出quantum的概念，并且雇佣专门的人员参与quantum项目。不过思科的动作很慢，Quantum的项目进度也不理想，当时思科的投入也不大。 在Folsom版本，思科推出一个自己的Openstack版本，整合自己的quantum插件，这个我猜测应该是让Mirantis帮忙OEM的，基于Ubuntu12.04. 思科是基金会黄金成员，不算太活跃吧。 eNovance 这应该是Openstack的后起之秀，最近两个版本非常活跃，无论是代码还是部署文档，都投入大量的精力。Ceilometer的项目负责人，好像是来自这家公司。这是一家法国的公司。 他们也是看好Ceph和puppet，大力投入，有机会成为第二家的Mirantis。他的几个成员，文档，blog写的非常好。我经常阅读。 Nicira 这家公司名气就太大，只要谈到SDN，就会联想到他。已经给vmware收购。目前基本所有公有云的网络解决方案，都会提到使用Nicira的方案，可见他的厉害。 把软件销售给互联网公司，这是一件比较高难度的活，但是他做到。他们开源了openvswith，Openstack的网络，未来基本都指望他。 SwiftStack 这是从Rackspace的swift团队跳槽出来成立的公司，目前估计最了解swift的，估计不是Rackspace，而是Swiftstack。这家公司包装了一下，搞了一个新概念，软件定义存储，并且拿到的投资。 目前主要在做swift的管理工具，他们提供的管理界面还是比较不错的。不过目前swift，面临Ceph的竞争，未来前景如何，真不好说啊。 Grid Dynamics 这家公司也是很早介入Openstack，在Diablo的时候，rpm包就是他们负责打包，Fedora项目里的rpm包，也是他们参与。这家公司也有自家的产品。 不过自从Redhat介入Openstack，也就导致这家公司影响力有所下降。不过目前在代码贡献还是非常活跃。能坚持那么久，也不容易啊。 Stackops 这家公司在Essex版本以前是非常活跃，chef是他们公司开发的，他们开发了一整套chef脚本，用来部署Openstack。以前Openstack的官方文档，图片，很多都是来自stackops。 Dell的Crowbar的chef脚本，也是stackops开发的。他们销售商业版本的stackops，自带一套Dashboard和实现HA。不过最近已经有点走向没落，业界已经看不到他们的声音，产品好像也没有升级。 目前Dell，Suse选择Chef PuppetLab 目前两大配置管理工具Chef和Puppet的官方，上游都正式参与和维护Openstack的部署脚本，都指望着Openstack，可以大力推广自己的产品。 目前Redhat，Mirantis选择了Puppet Inktank 这家公司估计国内知道的不多，他是Ceph团队成立的提供商业支持的公司，现在无论是Ubuntu和Suse，都在下注Ceph，那么都是找这家公司进行合作。 Cloudscaling 这是一家很有实力的咨询公司，当初是靠用cloudstack给韩国KT公司提供服务，并且集成swift而闻名。Cloudstack有今天的地位，其实也离不开这家公司的打下的大客户。 Cloudscaling目前也已经把精力投放在Openstack上，zeromq的支持，是这家公司支持实现的。 Citrix Citrix对Openstack的态度是比较矛盾的，自己的Cloudstack是和Openstack竞争，但是为了拿下更多的客户，需要去支持Openstack下的xen和xen Server，Rackspace还是Xen server的大客户。 目前阶段，Citrix对Openstack的支持，基本是维护状态，只有两位开发者在参与。 cloudbase 这家公司微软支持，让Openstack支持和管理微软的Hyper-v，不过他们还是做了大量的工作，包括windows版本的cloudbase-init，这样你可以修改windows的密码和机器名字。 UnitedStack 最后一家公司，也就是程辉新成立的UnitedStack。这应该是目前国内最强悍的Openstack团队。大名鼎鼎的Quantum的core成员Yong Sheng Gong，都已经加入他们的团队，全球都在关注Yong Sheng Gong在开发的功能，指望可以早日实现quantum完全替换掉Nova netwrok，压力可不小啊。 